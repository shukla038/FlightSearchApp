(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[4],{79:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/airplane.ece3a8ae.svg"},83:function(e,t,a){"use strict";a.r(t);var n=a(11),i=a(24),r={GETPOST:"https://tw-frontenders.firebaseio.com/advFlightSearch.json"},s=a(58),l=a.n(s);var c=function(){return function(e,t){return l.a.get(r.GETPOST,{headers:{"Access-Control-Allow-Origin":"*",crossDomain:!0},proxy:{host:"http://localhost",port:3e3}}).then(function(t){var a;t&&t.data&&200===t.status&&e((a=t.data,{type:i.a,payload:a}))}).catch(function(e){throw e})}},o=a(9),m=a(76),u=a(77),d=a(81),p=a(78),h=a(82),g=a(0),v=a.n(g),E=(a(79),a(80)),f=a.n(E),y=["Pune (PNQ)","Mumbai (BOM)","Bengaluru (BLR)","Delhi (DEL)"],N={"01":"Jan","02":"Feb","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"},b=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={returnJourney:!1,onewayJourney:!0,origin:"",destination:"",departureDate:"",returnDate:"",dummyArrayOneWAY:[],originArray:[],showData:!1},a.autoComleteFunc=function(){function e(e,t){var a;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),a>=e.length&&(a=0),a<0&&(a=e.length-1),e[a].classList.add("autocomplete-active")}function i(t){for(var a=document.getElementsByClassName("autocomplete-items"),n=0;n<a.length;n++)t!=a[n]&&t!=e&&a[n].parentNode.removeChild(a[n])}e.addEventListener("input",function(n){var r,s,l,c=this.value;if(i(),!c)return!1;for(a=-1,(r=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),r.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(r),l=0;l<t.length;l++)t[l].substr(0,c.length).toUpperCase()==c.toUpperCase()&&((s=document.createElement("DIV")).innerHTML="<strong>"+t[l].substr(0,c.length)+"</strong>",s.innerHTML+=t[l].substr(c.length),s.innerHTML+="<input type='hidden' value='"+t[l]+"'>",s.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,i()}),r.appendChild(s))}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(a++,n(t)):38===e.keyCode?(a--,n(t)):13===e.keyCode&&(e.preventDefault(),a>-1&&t&&t[a].click())}),document.addEventListener("click",function(e){i(e.target)})}e(document.getElementById("myOrigin"),y),e(document.getElementById("myDestination"),y)},a.handleTab=function(e,t){"return"===t?a.setState({returnJourney:!0,onewayJourney:!1}):"oneway"===t&&a.setState({returnJourney:!1,onewayJourney:!0})},a.handleCityChange=function(e,t){console.log("e.target.value",e.target.value),"origin"===t?a.setState({origin:e.target.value}):"destination"===t&&a.setState({destination:e.target.value})},a.fetchFlights=function(e){e.preventDefault();var t=a.state.originArray.filter(function(e){return e.origin===a.state.origin&&e.destination===a.state.destination});a.state.originArray.map(function(e){var t=a.state.originArray.filter(function(t){return e.origin===t.origin&&t.origin===a.state.origin&&e.origin===a.state.origin}),n=a.state.originArray.filter(function(t){return e.destination===t.destination&&a.state.destination&&e.destination===a.state.destination});t.map(function(e){n.map(function(t){if(e.destination===t.origin){var a=[e,t];a.push(e),a.push(t)}})})}),a.setState({dummyArrayOneWAY:t,showData:!0})},a.handleChange=function(e,t){"departure"===t?a.setState({departureDate:e.target.value}):"return"===t&&a.setState({returnDate:e.target.value})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.getPostsListAsync().then(function(){e.setState({originArray:e.props.postsList.postListData.postData})})}},{key:"componentDidMount",value:function(){this.state.showData&&this.autoComleteFunc()}},{key:"render",value:function(){var e=this,t=this.state.departureDate.split("-"),a=this.state.returnDate.split("-");return console.log("dummyArrayOneWAY ->",this.state.dummyArrayOneWAY),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"flightSearchApp"},v.a.createElement("div",{className:"appTitle"},v.a.createElement("h2",null," Flight Search App ")),v.a.createElement("div",{className:"searchFormWrapper"},v.a.createElement("div",{className:"tabWrapper"},v.a.createElement("button",{className:"tablink ".concat(this.state.onewayJourney?"active":"inactive"),onClick:function(t){return e.handleTab(t,"oneway")}},"One way"),v.a.createElement("button",{className:"tablink ".concat(this.state.returnJourney?"active":"inactive"),onClick:function(t){return e.handleTab(t,"return")}},"Return")),v.a.createElement("div",{className:"searchForm"},v.a.createElement("form",{className:"formWrapper",onSubmit:this.fetchFlights},v.a.createElement("div",{className:"autocomplete"},v.a.createElement("input",{required:!0,id:"myOrigin",type:"text",name:"originCity",placeholder:"Enter Origin City",onChange:function(t){return e.handleCityChange(t,"origin")}})),v.a.createElement("div",{className:"autocomplete"},v.a.createElement("input",{required:!0,id:"myDestination",type:"text",name:"destinationCity",placeholder:"Enter Destination City",onChange:function(t){return e.handleCityChange(t,"destination")}})),v.a.createElement("div",{className:"datePicker"},v.a.createElement("input",{required:!0,type:"date",id:"departureDate",name:"departure",onChange:function(t){return e.handleChange(t,"departure")}})),this.state.returnJourney?v.a.createElement("div",{className:"datePicker"},v.a.createElement("input",{required:!0,type:"date",id:"returnDate",name:"return",min:this.state.departureDate,onChange:function(t){return e.handleChange(t,"return")}})):"",v.a.createElement("div",{className:"passengersInput"},v.a.createElement("select",{name:"passengers",id:"passengers",placeholder:"select passengers"},v.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Select Passengers"),v.a.createElement("option",{value:"1"},"1 passenger"),v.a.createElement("option",{value:"2"},"2 passengers"),v.a.createElement("option",{value:"3"},"3 passengers"),v.a.createElement("option",{value:"4"},"4 passengers"),v.a.createElement("option",{value:"5"},"5 passengers"))),v.a.createElement("div",{className:"searchButtonWrapper"},v.a.createElement("button",{type:"submit",className:"searchButton"},"Search"))))),v.a.createElement("div",{className:"flightsWrapper"},this.state.showData?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"flightsRoute"},v.a.createElement("div",{className:"flightsRouteDetails ".concat(this.state.returnJourney?"returnWidthTitle":"oneWayWidthTitle")},this.state.origin&&this.state.destination?this.state.origin+" to "+this.state.destination:"Please Enter the Deatils for flights",v.a.createElement("div",null,this.state.dummyArrayOneWAY.length," flights found on ",t[0]+" "+N[t[1]]+" "+t[2])),this.state.returnJourney?v.a.createElement("div",{className:"flightsRouteDetails ".concat(this.state.returnJourney?"returnWidthTitle":"")},this.state.origin&&this.state.destination?this.state.destination+" to "+this.state.origin:"Please Enter the Deatils for flights",v.a.createElement("div",null,this.state.dummyArrayOneWAY.length," flights found on ",a[0]+" "+N[a[1]]+" "+a[2])):""),v.a.createElement("div",{className:"flightsList  ".concat(this.state.returnJourney?"returnWidthContent":"oneWayWidthTitle")},this.state.dummyArrayOneWAY.map(function(e,t){return v.a.createElement("div",{className:"card-wrapper"},v.a.createElement("div",{className:"departureTabMain"},v.a.createElement("div",{class:"flightsLogoInfo"},v.a.createElement("div",{className:"companyLogo"},v.a.createElement("img",{src:f.a,alt:"Logo",width:"27px",height:"27px"}))),v.a.createElement("div",{class:"flightsCompanyInfo"},v.a.createElement("div",{className:"companyname"},e.name),v.a.createElement("div",null,e.flightNo)),v.a.createElement("div",{className:"flightsDepartTime"},v.a.createElement("div",null,e.departureTime),v.a.createElement("div",{className:"companyName flights--tooltip",title:""}," ",e.origin.split(" ")[0])),v.a.createElement("div",{class:"flightsArrivalTime"},v.a.createElement("div",{className:"durationTime css-fl-cheapest-background flights--tooltip",title:"","data-original-title":"Fastest flight"},e.arrivalTime),v.a.createElement("div",{className:"destination"},v.a.createElement("span",{title:""},e.destination.split(" ")[0]))),v.a.createElement("div",{class:"flightsDurationTime"},v.a.createElement("div",{className:"durationTime css-fl-cheapest-background flights--tooltip",title:"","data-original-title":"Fastest flight"},"0"+(e.arrivalTime.split(":")[0]-e.departureTime.split(":")[0])+"h"," "+(e.arrivalTime.split(":")[1]-e.departureTime.split(":")[1])+"m")),v.a.createElement("div",{className:"css-fl-nobuggage-icons"}),v.a.createElement("div",{className:"flightsPrice js-flight-price"},v.a.createElement("div",{className:"discountPrice css-16px-size ",title:""},v.a.createElement("div",{className:""},v.a.createElement("div",{className:"css-currency currency-js"},v.a.createElement("span",null,v.a.createElement("i",{className:"icon icon_currency-inr"})),v.a.createElement("span",{"data-base":"7094"},v.a.createElement("span",null,"\u20b9"),e.price))))),v.a.createElement("div",{className:"bookButton"},v.a.createElement("button",null,"Book"))))})),this.state.returnJourney?v.a.createElement("div",{className:"flightsList  ".concat(this.state.returnJourney?"returnWidthContent":"oneWayWidthTitle")},this.state.dummyArrayOneWAY.map(function(e,t){return v.a.createElement("div",{className:"card-wrapper"},v.a.createElement("div",{className:"departureTabMain"},v.a.createElement("div",{class:"flightsLogoInfo"},v.a.createElement("div",{className:"companyLogo"},v.a.createElement("img",{src:f.a,alt:"Logo",width:"27px",height:"27px"}))),v.a.createElement("div",{class:"flightsCompanyInfo"},v.a.createElement("div",{className:"companyname"},e.name),v.a.createElement("div",null,e.flightNo)),v.a.createElement("div",{className:"flightsDepartTime"},v.a.createElement("div",null,e.departureTime),v.a.createElement("div",{className:"companyName"},v.a.createElement("span",{title:""},e.destination.split(" ")[0]))),v.a.createElement("div",{class:"flightsArrivalTime"},v.a.createElement("div",{className:"durationTime ",title:""},e.arrivalTime),v.a.createElement("div",{className:"destination",title:""}," ",e.origin.split(" ")[0])),v.a.createElement("div",{class:"flightsDurationTime"},v.a.createElement("div",{className:"durationTime css-fl-cheapest-background flights--tooltip",title:""},"0"+(e.arrivalTime.split(":")[0]-e.departureTime.split(":")[0])+"h"," "+(e.arrivalTime.split(":")[1]-e.departureTime.split(":")[1])+"m")),v.a.createElement("div",{className:"flightsPrice js-flight-price"},v.a.createElement("div",{className:"discountPrice css-16px-size ",title:""},v.a.createElement("div",{className:""},v.a.createElement("div",{className:"css-currency currency-js"},v.a.createElement("span",null,v.a.createElement("i",{className:"icon icon_currency-inr"})),v.a.createElement("span",{"data-base":"7094"},v.a.createElement("span",null,"\u20b9"),e.price))))),v.a.createElement("div",{className:"bookButton"},v.a.createElement("button",null,"Book"))))})):""):v.a.createElement(v.a.Fragment,null,v.a.createElement("h1",null,"Please Enter the details to search the flights")))))}}]),t}(v.a.Component);t.default=Object(n.c)(function(e){return{postsList:e}},function(e){return Object(o.b)({getPostsListAsync:c},e)})(b)}}]);
//# sourceMappingURL=4.931c5ca5.chunk.js.map